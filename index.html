<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Son of a snake</title>

    <style>
        body {
            background: khaki;
            text-align: center;
        }

        canvas {
            border: 10px solid sienna;
        }
    </style>
</head>
<body>
<canvas width="600" height="600"></canvas>

<script>
    // listeners
    document.addEventListener('keydown', keyPush)

    // canvas
    const canvas = document.querySelector('canvas')
    const ctx = canvas.getContext('2d')

    // player
    const snakeSize = 50;
    let snakeSpeed = 5;
    let snakePosX = 0;
    let snakePosY = canvas.height / 2 - snakeSize / 2;

    // loop
    function gameLoop() {
        drawStuff()
        // moveStuff()
        requestAnimationFrame(gameLoop)
    }

    gameLoop()

    // move everything
    function moveStuff() {

        snakePosX += snakeSpeed;

        if (snakePosX > canvas.width) {
            snakePosX = 0;
        }
    }

    // draw everything
    function drawStuff() {
        rectangle('white', 0, 0, canvas.width, canvas.height)
        rectangle('black', snakePosX, snakePosY, snakeSize, snakeSize)
    }

    function rectangle(color, x, y, width, height) {
        ctx.fillStyle = color
        ctx.fillRect(x, y, width, height)
    }

    // keyboard
    function keyPush(event) {
        switch (event.key) {
            case 'ArrowLeft':
                snakePosX -= snakeSpeed;
                break;
            case 'ArrowUp':
                snakePosY -= snakeSpeed;
                break;
            case 'ArrowRight':
                snakePosX += snakeSpeed;
                break;
            case 'ArrowDown':
                snakePosY += snakeSpeed;
                break;

        }
    }
</script>
</body>
</html>